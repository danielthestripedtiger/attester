(this.webpackJsonpattester=this.webpackJsonpattester||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"l",(function(){return r})),n.d(t,"m",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p}));var a="https://etherscan.io/tx/",r="https://rinkeby.etherscan.io/tx/",l="0x4C258142474a9aA4728DE3f6eF8603c50a3b8764",o="0x18551B97bd14A1e09FA6cE4AcefdAa0A8F2574B7",s=[{constant:!1,inputs:[{internalType:"uint256",name:"userSlot",type:"uint256"}],name:"deleteBin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"dataStr",type:"string"},{internalType:"string",name:"inpDocLabel",type:"string"},{internalType:"string",name:"inpDocHash",type:"string"},{internalType:"uint256",name:"argFlag",type:"uint256"}],name:"storeBin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"a",type:"string"},{internalType:"string",name:"b",type:"string"}],name:"compareStrings",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"docBins",outputs:[{internalType:"string",name:"docLabel",type:"string"},{internalType:"string",name:"docHash",type:"string"},{internalType:"uint256",name:"lastUpdated",type:"uint256"},{internalType:"uint256",name:"docNextSlot",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"docKeys",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"userSlot",type:"uint256"}],name:"getDoc",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"userSlot",type:"uint256"}],name:"getDocMetaData",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"userNextSlot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],i="https://api.coinmarketcap.com/v1/ticker/ethereum/",c="2000000000",u="2000000000",m="5000000",d="5000000",h="DELETE",b="DOWNLOAD",p=3072},117:function(e,t,n){},205:function(e,t,n){"use strict";(function(e){var a=n(37),r=n(42),l=n(38),o=n(44),s=n(27),i=n(43),c=n(0),u=n.n(c),m=(n(117),n(485)),d=n(73),h=n(207),b=n.n(h),p=n(8),f=n(212),g=n(84),E=n(87),v=n(72),y=n.n(v),x=n(484),w=n(10),j=n(32),P=n(85),D=n.n(P),O=n(57),H=n(124).sha3_512,S=n(75),T="",z="",k=function(t){function n(t){var s;return Object(a.a)(this,n),(s=Object(r.a)(this,Object(l.a)(n).call(this,t))).onDrop=function(t){console.log(t[0]);var n=new Blob([t[0]]);console.log(n),z=0,n.arrayBuffer().then((function(n){var a=e.from(n),r=a.length;console.log("File Length1: "+r);var l=Math.ceil(r/w.e);console.log("File Length div 4000 + ceiling: "+Math.ceil(r/w.e));new s.state.web3.BatchRequest;var i=0,c=w.e;s.state.web3.eth.getTransactionCount(s.state.selectedAccount).then((function(e){console.log("nonce1: "+e),s.setState({noOfFileParts:l});for(var n=Object(o.a)(s),r=0;r<l;r++){var u=a.slice(i,c).toString("base64"),m="0";0==r&&(m="1"),s.state.contract.methods.storeBin(u,t[0].name,H(a),m).estimateGas({from:s.state.selectedAccount,gasPrice:w.i,gasLimit:w.h},(function(e,t){})).then((function(e){console.log(e),z+=e,n.setState({estimatedGas:z,selectedFileName:t[0].name,selectedFile:t[0],savedBtnDisabled:!1,returnMessages:[],loadingProgress:!1})})).catch((function(e){console.log("ERROR!!!");var n=[];n.push("<br/><p style='color:red'>An error has occurred... "+e.message.substring(0,1e3)+"</p>"),s.setState({selectedFileName:t[0].name,selectedFile:t[0],savedBtnDisabled:!0,returnMessages:n,loadingProgress:!1})})),i+=w.e,c+=w.e,e++}}))}))},s.onClickHandler=function(t){s.setState({loadingProgress:!0,returnMessages:[]}),console.log(s.state.selectedFile.name),console.log(s.state.contract.options.address);var n=new Blob([s.state.selectedFile]);console.log(n),n.arrayBuffer().then((function(t){var n=e.from(t),a=n.length;console.log("File Length: "+a);var r=Math.ceil(a/w.e);console.log("File Length div 4000 + ceiling: "+Math.ceil(a/w.e));new s.state.web3.BatchRequest;var l=0,i=w.e;s.state.web3.eth.getTransactionCount(s.state.selectedAccount).then((function(e){console.log("nonce2: "+e);for(var t=Object(o.a)(s),a=0,c=0;c<r;c++){var u=n.slice(l,i).toString("base64"),m="0";0===c&&(m="1"),s.state.contract.methods.storeBin(u,s.state.selectedFile.name,H(n),m).send({nonce:e,from:s.state.selectedAccount,gasPrice:w.i,gasLimit:w.h}).then((function(e){a++,t.state.returnMessages.push("<div><br/>File part "+a+" transaction hash: <a href = '"+t.state.blcExplUrl+e.transactionHash+"' target='_blank'>"+e.transactionHash+"</a></div>"),t.setState({returnMessages:t.state.returnMessages}),a===c&&t.setState({loadingProgress:!1})})).catch((function(e){a++,t.state.returnMessages.push("<br/><div><p style='color:red'>File part "+a+": An error has occurred... "+e.message.substring(0,1e3)+"</p></div>"),t.setState({returnMessages:t.state.returnMessages}),a===c&&t.setState({loadingProgress:!1})})),l+=w.e,i+=w.e,e++}}))}))},D.a.get(w.d).then((function(e){s.setState({etherPrice:e.data[0].price_usd})})),s.state={selectedFile:null,selectedFileName:"",contract:"",estimatedGas:0,processingFile:"false",metamaskWarning:"",savedBtnDisabled:!0,returnMessages:[],dropzoneDisabledFlg:!1},s}return Object(i.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(console.log("In CDM - New Upload"),window.ethereum){T=new S(S.givenProvider),this.setState({web3:T}),window.ethereum.enable();setInterval((function(){Object(j.b)(e,!1,window.ethereum.networkVersion)}),1e3)}else Object(j.a)(this),this.setState({dropzoneDisabledFlg:!0})}}]),Object(s.a)(n,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),u.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/dropzone/4.3.0/dropzone.css"}),u.a.createElement(p.a,{container:!0,spacing:3},u.a.createElement(p.a,{item:!0,xs:3}),u.a.createElement(p.a,{item:!0,xs:6,align:"center"},this.state.metamaskWarning),u.a.createElement(p.a,{item:!0,xs:3}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8},u.a.createElement("center",null,u.a.createElement("b",null,"Description: "),"Use this tool to store any document on the Ethereum Blockchain",u.a.createElement("br",null),u.a.createElement("br",null),"If the file is too big for a block on the chain, it will be split into multiple parts (which can be combined back later)",u.a.createElement("br",null),u.a.createElement("br",null),"Estimated cost is below the upload box and is for blockchain gas only (no additional fees).",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Note: MetaMask will give a higher gas estimate. Please disregard that estimate and refer to the estimate on this site instead. We intend to work with the MetaMask team to get this addressed."))),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Step 1: Select File"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(m.a,{border:1},u.a.createElement("center",null,u.a.createElement(f.a,{onDrop:this.onDrop,minSize:0,maxSize:5e10,disabled:this.state.dropzoneDisabledFlg},(function(e){var t=e.getRootProps,n=e.getInputProps,a=e.isDragActive,r=e.isDragReject,l=e.rejectedFiles,o=l.length>0&&l[0].size>5e10;return u.a.createElement("div",t(),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("input",n()),!a&&"Click here or drop a file to upload!",a&&!r&&"Drop it like it's hot!",r&&"File type not accepted, sorry!",o&&u.a.createElement("div",{className:"text-danger mt-2"},"File is too large."),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null))}))))),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},"File Selected: ",this.state.selectedFileName),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},"Total Estimated Gas Cost: ",this.state.estimatedGas),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},"Number of file parts: ",this.state.noOfFileParts),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},"Total Gas Cost in Ether: ",null==this.state.web3?"0":this.state.web3.utils.fromWei(String(2e9*this.state.estimatedGas,"ether"))),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},"Total Gas Cost in USD: ",null==this.state.web3?"$0":"$"+(this.state.etherPrice*this.state.web3.utils.fromWei(String(2e9*this.state.estimatedGas,"ether"))).toFixed(2)),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},u.a.createElement("label",{htmlFor:"outlined-button-file"},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Step 2: Save to Ethereum Blockchain"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(d.a,{variant:"outlined",component:"span",disabled:this.state.savedBtnDisabled,onClick:this.onClickHandler,startIcon:u.a.createElement(b.a,null)},"Save to Ethereum"))),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},this.state.loadingProgress?u.a.createElement("div",null,u.a.createElement("br",null),"Saving document to blockchain. Please wait (may take up to 15 mins).",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(x.a,null)):"",this.state.returnMessages.map((function(e,t){return u.a.createElement("div",{key:t},y()(e))}))),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:2}),u.a.createElement(p.a,{item:!0,xs:8,align:"center"},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Next: "),u.a.createElement(d.a,{color:"primary",component:O.b,to:"/pastuploads"},"Manage Previously Uploaded Documents")),u.a.createElement(p.a,{item:!0,xs:2})),u.a.createElement(g.a,null))}}]),n}(u.a.Component);t.a=Object(E.b)((function(e){return{web3:e.web3.web3}}),null)(k)}).call(this,n(6).Buffer)},221:function(e,t,n){e.exports=n(482)},226:function(e,t,n){},252:function(e,t){},275:function(e,t){},277:function(e,t){},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a),l=(n(117),n(73)),o=n(10),s=n(487),i=n(75);function c(e){var t=r.a.createElement(s.a,{severity:"error"},r.a.createElement("center",null,r.a.createElement("div",null,"This website Uses MetaMask and you dont seem to have it installed. Please install MetaMask and fill your account with sufficient Ether: ",r.a.createElement("a",{href:"https://metamask.io/"},"https://metamask.io"))));e.setState({metamaskWarning:t})}function u(e,t,n){var a=new i(i.givenProvider),s="",c="";switch(n){case"1":o.f,c=o.g,e.setState({blcExplUrl:o.f,contrAddr:o.g});break;case"4":o.l,c=o.m,e.setState({blcExplUrl:o.l,contrAddr:o.m})}a.eth.getAccounts().then((function(n){s=n[0];var i=new a.eth.Contract(o.a,c);if(e.setState({contract:i}),s!==e.state.selectedAccount&&(e.setState({selectedAccount:s}),console.log("Account: "+s)),!0===t){var u="",m="",d=0,h=0;i.methods.userNextSlot(s).call({from:s}).then((function(t){console.log("get user slot count: "+t);var n=[];e.setState({tableRows:n});e.state.web3.eth.getTransactionCount(s).then((function(a){i.methods.deleteBin(h).estimateGas({from:s,gasPrice:o.i,gasLimit:o.h},(function(e,t){})).then((function(a){for(var o=0;o<t;o++)i.methods.getDocMetaData(o.toString()).call({from:s}).then((function(t){if(""!==(m=t[1])){u=t[0],d=t[2],t[3],h=t[4];var o=new Date(0);o.setUTCSeconds(d);var s=[m.slice(0,60)," ",m.slice(60)].join(""),i=e.state.web3.utils.fromWei(String(2e9*a,"ether")),c=(e.state.etherPrice*e.state.web3.utils.fromWei(String(2e9*a,"ether"))).toFixed(2);n.push((b=u+"<br/> (in slot #"+h+")",p=o.toString(),f=s,g=r.a.createElement(l.a,{onClick:e.onClickHandler(h,"DOWNLOAD"),variant:"contained",color:"primary"},"Download"),E=r.a.createElement("div",null,r.a.createElement(l.a,{onClick:e.onClickHandler(h,"DELETE"),variant:"contained",color:"primary"},"Delete"),r.a.createElement("small",null,"ETH:",i," USD:$",c)),{filename:b,timestamp:p,filehash:f,download:g,deleteBtn:E})),e.setState({tableRows:n,noDocsMsg:""})}var b,p,f,g,E}))}))}))}))}}))}},322:function(e,t){},324:function(e,t){},353:function(e,t){},481:function(e,t){e.exports="data:image/png;base64,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"},482:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(36),o=n.n(l),s=(n(226),n(37)),i=n(42),c=n(38),u=n(27),m=n(43),d=n(87),h=n(205),b=n(44),p=n(9),f=n(515),g=n(517),E=n(512),v=n(514),y=n(516),x=n(513),w=n(483),j=n(84),P=n(72),D=n.n(P),O=n(32),H=n(8),S=n(484),T=n(10),z=n(85),k=n.n(z),M="",L=n(75),F=Object(p.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(E.a),X=Object(p.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(x.a),N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,e))).onClickHandler=function(e,t){return function(a){if(console.log("You clicked on row with userSlot "+e+", and buttonType "+t),t===T.b){console.log("DELETING ENTRY"),n.setState({loadingProgress:!0});n.state.web3.eth.getTransactionCount(n.state.selectedAccount).then((function(t){console.log("noncePU: "+t);var a=Object(b.a)(n);n.state.contract.methods.deleteBin(e).send({nonce:t,from:n.state.selectedAccount,gasPrice:T.k,gasLimit:T.j}).then((function(e){a.state.tableRows.length-1===0&&a.setState({noDocsMsg:"No documents are saved on Ethereum"});var t=[];t.push("<div><br/>Deletion of file successful. If you still see it in the list, wait at most 20 secs for the table to refresh. Transaction hash: <a href = '"+a.state.blcExplUrl+e.transactionHash+"' target='_blank'>"+e.transactionHash+"</a></div>"),a.setState({returnMessages:t,loadingProgress:!1})})).catch((function(e){var t=[];t.push("<br/><div><p style='color:red'>An error has occurred... "+e.message.substring(0,1e3)+"</p></div>"),a.setState({returnMessages:t,loadingProgress:!1})}))}))}if(t===T.c){console.log("DOWNLOADING ENTRY");var r=Object(b.a)(n);n.state.contract.methods.getDoc(e).call({from:n.state.selectedAccount}).then((function(e){console.log("Download acct: "+r.state.selectedAccount);var t=e[0],n=e[3];console.log("Downloaded: "+e[5][0]);for(var a=null,l=A(e[5][0]),o=1;o<n;o++){var s=A(e[5][o]);(a=new Uint8Array(l.length+s.length)).set(l),a.set(s,l.length),l=a}!function(e,t){var n=new Blob([t],{type:"application/text"}),a=document.createElement("a");a.href=window.URL.createObjectURL(n);var r=e;a.download=r,a.click()}(t,l)}))}}},k.a.get(T.d).then((function(e){n.setState({etherPrice:e.data[0].price_usd})})),n.state={selectedFile:null,selectedFileName:"",estimatedGas:0,processingFile:"false",metamaskWarning:"",tableRows:[],returnMessages:[],loadingProgress:!1,noDocsMsg:"No documents are saved on Ethereum"},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log("In CDM - Past Uploads"),window.ethereum){M=new L(L.givenProvider),this.setState({web3:M}),window.ethereum.enable(),0===this.state.tableRows.length&&this.setState({noDocsMsg:"No documents are saved on Ethereum"}),setTimeout((function(){Object(O.b)(e,!0,window.ethereum.networkVersion)}),1e3);setInterval((function(){Object(O.b)(e,!0,window.ethereum.networkVersion)}),2e4)}else Object(O.a)(this)}}]),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:3}),r.a.createElement(H.a,{item:!0,xs:6,align:"center"},this.state.metamaskWarning),r.a.createElement(H.a,{item:!0,xs:3})),r.a.createElement(v.a,{className:e.tableContainer,component:w.a},r.a.createElement("center",null,r.a.createElement("h3",{className:e.table},"Uploads for account: ",this.state.selectedAccount)),r.a.createElement(f.a,{size:"small",className:e.table,"aria-label":"customized table"},r.a.createElement(y.a,null,r.a.createElement(x.a,{key:"100"},r.a.createElement(F,null,"Document Name"),r.a.createElement(F,{align:"center"},"Timestamp"),r.a.createElement(F,{align:"center"},"Document Hash"),r.a.createElement(F,{align:"center"},"Download Document From Ethereum"),r.a.createElement(F,{align:"center"},"Remove From Ethereum"))),r.a.createElement(g.a,null,this.state.tableRows.map((function(e){return r.a.createElement(X,null,r.a.createElement(F,{component:"th",scope:"row"},D()(e.filename)),r.a.createElement(F,{align:"center"},e.timestamp),r.a.createElement(F,{align:"center"},r.a.createElement("code",null,e.filehash)),r.a.createElement(F,{align:"center"},e.download),r.a.createElement(F,{align:"center"},e.deleteBtn))}))))),r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:8,align:"center"},r.a.createElement("b",null,this.state.noDocsMsg)),r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:8,align:"center"},this.state.loadingProgress?r.a.createElement("div",null,r.a.createElement("br",null),"Deleting from Ethereum. Please wait (may take up to 15 mins).",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,null)):"",this.state.returnMessages.map((function(e,t){return r.a.createElement("div",{key:t},D()(e))}))),r.a.createElement(H.a,{item:!0,xs:2})),r.a.createElement(j.a,null))}}]),t}(a.Component);function A(e){for(var t=window.atob(e),n=t.length,a=new Uint8Array(n),r=0;r<n;r++){var l=t.charCodeAt(r);a[r]=l}return a}var R=Object(p.a)({table:{height:"80%",width:"90%",margin:"auto"},tableContainer:{height:"100%",width:"95%",margin:"20px"}})(N),C=n(57),U=n(45),B=n(519),Z=n(73),J=n(520),q=n(518),Q=n(39),G=n(209),V=n(210),W=n.n(V),I=n(211),K=n(213),Y={web3:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_WEB3":return Object(K.a)({},e,{web3:t.payload});default:return e}},$=Object(Q.combineReducers)({web3:_}),ee=Object(Q.createStore)($,Object(G.composeWithDevTools)(Object(Q.applyMiddleware)(W.a,I.a))),te=(n(481),""),ne=n(75),ae=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={selectedFile:null,selectedFileName:"",contract:"",web3:null,selectedAccount:"",estimatedGas:0,processingFile:"false",metamaskWarning:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log("In CDM"),window.ethereum){te=new ne(ne.givenProvider),this.setState({web3:te});try{window.ethereum.enable();setInterval((function(){Object(O.b)(e,!1,window.ethereum.networkVersion)}),100)}catch(t){}}}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:ee},r.a.createElement("div",null,r.a.createElement(C.a,{basename:"/attester"},r.a.createElement("div",null,r.a.createElement(q.a,{position:"static"},r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement(B.a,{variant:"h4",component:"h4",gutterBottom:!0},"\xa0Ethereum Document Attestation Tool")),r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(w.a,null,r.a.createElement("b",null,"Account:  ",this.state.selectedAccount))),r.a.createElement(H.a,{item:!0,xs:12,align:"center"},r.a.createElement(J.a,{variant:"contained","aria-label":"contained primary button group"},r.a.createElement(Z.a,{component:C.b,to:"/"},"Home"),r.a.createElement(Z.a,{component:C.b,to:"/pastuploads"},"Past Uploads")),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement("br",null),r.a.createElement(U.c,null,r.a.createElement(U.a,{exact:!0,path:"/"},r.a.createElement(h.a,null)),r.a.createElement(U.a,{path:"/pastuploads"},r.a.createElement(R,null)))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(37),r=n(27),l=n(42),o=n(38),s=n(43),i=n(0),c=n.n(i),u=n(8),m=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(u.a,{container:!0,spacing:3},c.a.createElement(u.a,{item:!0,xs:12,align:"center"},c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),"Made by ",c.a.createElement("a",{href:"https://github.com/danielthestripedtiger",target:"_blank"},"Daniel Striped Tiger")," \ud83d\udc2f")))}}]),t}(i.Component)}},[[221,1,2]]]);
//# sourceMappingURL=main.aa493fd6.chunk.js.map