(this.webpackJsonpattester=this.webpackJsonpattester||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"l",(function(){return r})),a.d(t,"m",(function(){return l})),a.d(t,"g",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"i",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return d})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return b})),a.d(t,"e",(function(){return g}));var n="https://etherscan.io/tx/",r="https://rinkeby.etherscan.io/tx/",l="0x4C258142474a9aA4728DE3f6eF8603c50a3b8764",s="0x18551B97bd14A1e09FA6cE4AcefdAa0A8F2574B7",i=[{constant:!1,inputs:[{internalType:"uint256",name:"userSlot",type:"uint256"}],name:"deleteBin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"dataStr",type:"string"},{internalType:"string",name:"inpDocLabel",type:"string"},{internalType:"string",name:"inpDocHash",type:"string"},{internalType:"uint256",name:"argFlag",type:"uint256"}],name:"storeBin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"a",type:"string"},{internalType:"string",name:"b",type:"string"}],name:"compareStrings",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"docBins",outputs:[{internalType:"string",name:"docLabel",type:"string"},{internalType:"string",name:"docHash",type:"string"},{internalType:"uint256",name:"lastUpdated",type:"uint256"},{internalType:"uint256",name:"docNextSlot",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"docKeys",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"userSlot",type:"uint256"}],name:"getDoc",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"userSlot",type:"uint256"}],name:"getDocMetaData",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"userNextSlot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],o="https://api.coinmarketcap.com/v1/ticker/ethereum/",c="2000000000",u="2000000000",m="5000000",d="5000000",h="DELETE",b="DOWNLOAD",g=3072},118:function(e,t,a){},206:function(e,t,a){"use strict";(function(e){var n=a(37),r=a(42),l=a(38),s=a(44),i=a(27),o=a(43),c=a(0),u=a.n(c),m=(a(118),a(487)),d=a(73),h=a(208),b=a.n(h),g=a(8),p=a(213),f=a(84),E=a(87),v=a(72),y=a.n(v),x=a(215),w=a(10),P=a(32),j=a(85),D=a.n(j),O=a(57),H=a(115),S=a(125).sha3_512,T=a(75),z="",M=new T(T.givenProvider),k="",F=function(t){function a(t){var i;return Object(n.a)(this,a),(i=Object(r.a)(this,Object(l.a)(a).call(this,t))).onDrop=function(t){var a=[];null!=t.target?a.push(t.target.files[0]):null!=t[0]&&(a=t),i.setState({loadingFileProgress:!0}),console.log(a[0]);var n=new Blob([a[0]]);console.log(n),k=0,n.arrayBuffer().then((function(t){var n=e.from(t),r=n.length;console.log("File Length1: "+r);var l=Math.ceil(r/w.e);console.log("File Length div 4000 + ceiling: "+Math.ceil(r/w.e));new i.state.web3.BatchRequest;var o=0,c=w.e;i.state.web3.eth.getTransactionCount(i.state.selectedAccount).then((function(e){console.log("nonce1: "+e),i.setState({noOfFileParts:l});for(var t=Object(s.a)(i),r=0;r<l;r++){var u=n.slice(o,c).toString("base64"),m="0";0==r&&(m="1"),i.state.contract.methods.storeBin(u,a[0].name,S(n),m).estimateGas({from:i.state.selectedAccount,gasPrice:w.i,gasLimit:w.h},(function(e,t){})).then((function(e){console.log(e),k+=e,t.setState({estimatedGas:k,selectedFileName:a[0].name,selectedFile:a[0],savedBtnDisabled:!1,returnMessages:[],loadingFileProgress:!1})})).catch((function(e){console.log("ERROR!!!");var t=[];t.push("<br/><p style='color:red'>An error has occurred... "+e.message.substring(0,1e3)+"</p>"),i.setState({selectedFileName:a[0].name,selectedFile:a[0],savedBtnDisabled:!0,returnMessages:t,loadingFileProgress:!1})})),o+=w.e,c+=w.e,e++}}))}))},i.onClickHandler=function(t){i.setState({loadingProgress:!0,returnMessages:[]}),console.log(i.state.selectedFile.name),console.log(i.state.contract.options.address);var a=new Blob([i.state.selectedFile]);console.log(a),a.arrayBuffer().then((function(t){var a=e.from(t),n=a.length;console.log("File Length: "+n);var r=Math.ceil(n/w.e);console.log("File Length div 4000 + ceiling: "+Math.ceil(n/w.e));new i.state.web3.BatchRequest;var l=0,o=w.e;i.state.web3.eth.getTransactionCount(i.state.selectedAccount).then((function(e){console.log("nonce2: "+e);for(var t=Object(s.a)(i),n=0,c=0;c<r;c++){var u=a.slice(l,o).toString("base64"),m="0";0===c&&(m="1"),i.state.contract.methods.storeBin(u,i.state.selectedFile.name,S(a),m).send({nonce:e,from:i.state.selectedAccount,gasPrice:w.i,gasLimit:w.h}).then((function(e){n++,t.state.returnMessages.push("<div><br/>File part "+n+" transaction hash: <a href = '"+t.state.blcExplUrl+e.transactionHash+"' target='_blank'>"+e.transactionHash+"</a></div>"),t.setState({returnMessages:t.state.returnMessages}),n===c&&t.setState({loadingProgress:!1})})).catch((function(e){n++,t.state.returnMessages.push("<br/><div><p style='color:red'>File part "+n+": An error has occurred... "+e.message.substring(0,1e3)+"</p></div>"),t.setState({returnMessages:t.state.returnMessages}),n===c&&t.setState({loadingProgress:!1})})),l+=w.e,o+=w.e,e++}}))}))},null!=T.givenProvider&&M.eth.net.getId().then((function(e){z=e})),D.a.get(w.d).then((function(e){i.setState({etherPrice:e.data[0].price_usd})})),i.state={selectedFile:null,selectedFileName:"",contract:"",estimatedGas:0,processingFile:"false",metamaskWarning:"",savedBtnDisabled:!0,returnMessages:[],dropzoneDisabledFlg:!1},i}return Object(o.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log("In CDM - New Upload"),window.ethereum){M=new T(T.givenProvider),this.setState({web3:M}),window.ethereum.enable();setInterval((function(){Object(P.b)(e,!1,z.toString())}),1e3)}else Object(P.a)(this),this.setState({dropzoneDisabledFlg:!0})}}]),Object(i.a)(a,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),u.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/dropzone/4.3.0/dropzone.css"}),u.a.createElement(g.a,{container:!0,spacing:3},u.a.createElement(g.a,{item:!0,xs:3}),u.a.createElement(g.a,{item:!0,xs:6,align:"center"},this.state.metamaskWarning),u.a.createElement(g.a,{item:!0,xs:3}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8},u.a.createElement("center",null,u.a.createElement("b",null,"Description: "),"Use this tool to store any document on the Ethereum Blockchain. Documents are never stored on our server and are simply passed along to Ethereum. Source code can be found ",u.a.createElement("a",{href:"https://github.com/danielthestripedtiger/attester",target:"_blank"},"here"),".",u.a.createElement("br",null),u.a.createElement("br",null),"If the file is too big for a block on the chain, it will be split into multiple parts (which can be combined back later)",u.a.createElement("br",null),u.a.createElement("br",null),"Estimated cost is below the upload box and is for blockchain gas only (no additional fees are charged)",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Note 1: MetaMask will give a higher gas estimate than this page estimates. The MetaMask gas estimates are currently incorrect. Please disregard the MetaMask estimate and refer to the estimate on this site instead. We intend to work with the MetaMask team to get this addressed."),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Note 2: Ethereum cannot handle much more than 3kb of document data per block. Although this tool will split the file across multiple blocks, MetaMask will ask for manual approval on each file part. This would result in many manual approvals being required for large files. This is a MetaMask limitation and we will work with MetaMask to address this."))),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Step 1: Select File"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(H.BrowserView,null,u.a.createElement(m.a,{border:1},u.a.createElement("center",null,u.a.createElement(p.a,{onDrop:this.onDrop,minSize:0,maxSize:5e10,disabled:this.state.dropzoneDisabledFlg},(function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragActive,r=e.isDragReject,l=e.rejectedFiles,s=l.length>0&&l[0].size>5e10;return u.a.createElement("div",t(),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("input",a()),!n&&"Click here or drop a file to upload!",n&&!r&&"Drop it like it's hot!",r&&"File type not accepted, sorry!",s&&u.a.createElement("div",{className:"text-danger mt-2"},"File is too large."),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null))}))))),u.a.createElement(H.MobileView,null,u.a.createElement("div",null,this.state.dropzoneDisabledFlg?u.a.createElement("input",{type:"file",onChange:this.onDrop,disabled:!0}):u.a.createElement("input",{type:"file",onChange:this.onDrop})))),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2,align:"center"}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},this.state.loadingFileProgress?u.a.createElement("div",null,u.a.createElement("br",null),"Calculating gas costs...",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(x.a,null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null)):"","File Selected: ",this.state.selectedFileName),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},"Total Estimated Gas Cost: ",this.state.estimatedGas),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},"Number of file parts: ",this.state.noOfFileParts),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},"Total Gas Cost in Ether: ",null==this.state.web3?"0":this.state.web3.utils.fromWei(String(2e9*this.state.estimatedGas,"ether"))),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},"Total Gas Cost in USD: ",null==this.state.web3?"$0":"$"+(this.state.etherPrice*this.state.web3.utils.fromWei(String(2e9*this.state.estimatedGas,"ether"))).toFixed(2)),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},u.a.createElement("label",{htmlFor:"outlined-button-file"},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Step 2: Save to Ethereum Blockchain"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(d.a,{variant:"outlined",component:"span",disabled:this.state.savedBtnDisabled,onClick:this.onClickHandler,startIcon:u.a.createElement(b.a,null)},"Save to Ethereum"))),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},this.state.loadingProgress?u.a.createElement("div",null,u.a.createElement("br",null),"Processing transactions... (may take up to 15 minutes for transactions to be accepted)",u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(x.a,null)):"",this.state.returnMessages.map((function(e,t){return u.a.createElement("div",{key:t},y()(e))}))),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:2}),u.a.createElement(g.a,{item:!0,xs:8,align:"center"},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("b",null,"Next: "),u.a.createElement(d.a,{color:"primary",component:O.b,to:"/pastuploads"},"Manage Previously Uploaded Documents")),u.a.createElement(g.a,{item:!0,xs:2})),u.a.createElement(f.a,null))}}]),a}(u.a.Component);t.a=Object(E.b)((function(e){return{web3:e.web3.web3}}),null)(F)}).call(this,a(6).Buffer)},223:function(e,t,a){e.exports=a(485)},228:function(e,t,a){},254:function(e,t){},277:function(e,t){},279:function(e,t){},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a(0),r=a.n(n),l=(a(118),a(73)),s=a(10),i=a(489),o=a(75);function c(e){var t=r.a.createElement(i.a,{severity:"error"},r.a.createElement("center",null,r.a.createElement("div",null,"This website Uses MetaMask and you dont seem to have it installed. Please install MetaMask and fill your account with sufficient Ether: ",r.a.createElement("a",{href:"https://metamask.io/"},"https://metamask.io"),".")));e.setState({metamaskWarning:t})}function u(e,t,a){var n=new o(o.givenProvider),i="",c="";switch(a){case"1":console.log("This is mainnet"),s.f,c=s.g,e.setState({blcExplUrl:s.f,contrAddr:s.g});break;case"4":s.l,c=s.m,e.setState({blcExplUrl:s.l,contrAddr:s.m})}n.eth.getAccounts().then((function(a){i=a[0];var o=new n.eth.Contract(s.a,c);if(e.setState({contract:o}),i!==e.state.selectedAccount&&(e.setState({selectedAccount:i}),console.log("Account: "+i)),!0===t){e.setState({noDocsMsg:"No documents are saved on Ethereum. If you just submitted a save request, you may have to wait up to 15 minutes for it to be confirmed on the chain."});var u="",m="",d=0,h=0;o.methods.userNextSlot(i).call({from:i}).then((function(t){console.log("get user slot count: "+t);var a=[];e.setState({tableRows:a});e.state.web3.eth.getTransactionCount(i).then((function(n){o.methods.deleteBin(h).estimateGas({from:i,gasPrice:s.i,gasLimit:s.h},(function(e,t){})).then((function(n){for(var s=0;s<t;s++)o.methods.getDocMetaData(s.toString()).call({from:i}).then((function(t){if(""!==(m=t[1])){u=t[0],d=t[2],t[3],h=t[4];var s=new Date(0);s.setUTCSeconds(d);var i=[m.slice(0,60)," ",m.slice(60)].join(""),o=e.state.web3.utils.fromWei(String(2e9*n,"ether")),c=(e.state.etherPrice*e.state.web3.utils.fromWei(String(2e9*n,"ether"))).toFixed(2);a.push((b=u+"<br/> (in slot #"+h+")",g=s.toString(),p=i,f=r.a.createElement(l.a,{onClick:e.onClickHandler(h,"DOWNLOAD"),variant:"contained",color:"primary"},"Download"),E=r.a.createElement("div",null,r.a.createElement(l.a,{onClick:e.onClickHandler(h,"DELETE"),variant:"contained",color:"primary"},"Delete"),r.a.createElement("small",null,"ETH:",o," USD:$",c)),{filename:b,timestamp:g,filehash:p,download:f,deleteBtn:E})),e.setState({tableRows:a,noDocsMsg:"",loadingFilesProgress:!1})}var b,g,p,f,E}));e.setState({loadingFilesProgress:!1})}))}))}))}}))}},324:function(e,t){},326:function(e,t){},355:function(e,t){},484:function(e,t){e.exports="data:image/png;base64,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"},485:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),s=a.n(l),i=(a(228),a(37)),o=a(42),c=a(38),u=a(27),m=a(43),d=a(87),h=a(206),b=a(44),g=a(9),p=a(517),f=a(519),E=a(514),v=a(516),y=a(518),x=a(515),w=a(486),P=a(84),j=a(72),D=a.n(j),O=a(32),H=a(8),S=a(215),T=a(10),z=a(85),M=a.n(z),k=a(75),F=Object(g.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(E.a),L=Object(g.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(x.a),X="",N=new k(k.givenProvider),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).onClickHandler=function(e,t){return function(n){if(console.log("You clicked on row with userSlot "+e+", and buttonType "+t),t===T.b){console.log("DELETING ENTRY"),a.setState({loadingProgress:!0});a.state.web3.eth.getTransactionCount(a.state.selectedAccount).then((function(t){console.log("noncePU: "+t);var n=Object(b.a)(a);a.state.contract.methods.deleteBin(e).send({nonce:t,from:a.state.selectedAccount,gasPrice:T.k,gasLimit:T.j}).then((function(e){n.state.tableRows.length-1===0&&n.setState({noDocsMsg:"No documents are saved on Ethereum"});var t=[];t.push("<div><br/>Deletion of file successful. If you still see it in the list, wait at most 20 secs for the table to refresh. Transaction hash: <a href = '"+n.state.blcExplUrl+e.transactionHash+"' target='_blank'>"+e.transactionHash+"</a></div>"),n.setState({returnMessages:t,loadingProgress:!1})})).catch((function(e){var t=[];t.push("<br/><div><p style='color:red'>An error has occurred... "+e.message.substring(0,1e3)+"</p></div>"),n.setState({returnMessages:t,loadingProgress:!1})}))}))}if(t===T.c){console.log("DOWNLOADING ENTRY");var r=Object(b.a)(a);a.state.contract.methods.getDoc(e).call({from:a.state.selectedAccount}).then((function(e){console.log("Download acct: "+r.state.selectedAccount);var t=e[0],a=e[3];console.log("Downloaded: "+e[5][0]);for(var n=null,l=C(e[5][0]),s=1;s<a;s++){var i=C(e[5][s]);(n=new Uint8Array(l.length+i.length)).set(l),n.set(i,l.length),l=n}!function(e,t){var a=new Blob([t],{type:"application/text"}),n=document.createElement("a");n.href=window.URL.createObjectURL(a);var r=e;n.download=r,n.click()}(t,l)}))}}},null!=k.givenProvider&&N.eth.net.getId().then((function(e){X=e})),M.a.get(T.d).then((function(e){a.setState({etherPrice:e.data[0].price_usd})})),a.state={selectedFile:null,selectedFileName:"",estimatedGas:0,processingFile:"false",metamaskWarning:"",tableRows:[],returnMessages:[],loadingProgress:!1,loadingFilesProgress:!1,noDocsMsg:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log("In CDM - Past Uploads"),this.setState({loadingFilesProgress:!0}),window.ethereum){N=new k(k.givenProvider),this.setState({web3:N}),window.ethereum.enable(),setTimeout((function(){Object(O.b)(e,!0,X.toString())}),1e3);setInterval((function(){Object(O.b)(e,!0,X.toString())}),2e4)}else Object(O.a)(this),this.setState({loadingFilesProgress:!1})}}]),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:3}),r.a.createElement(H.a,{item:!0,xs:6,align:"center"},this.state.metamaskWarning),r.a.createElement(H.a,{item:!0,xs:3})),r.a.createElement(v.a,{className:e.tableContainer,component:w.a},r.a.createElement("center",null,r.a.createElement("h3",{className:e.table},"Uploads for account: ",this.state.selectedAccount)),r.a.createElement(p.a,{size:"small",className:e.table,"aria-label":"customized table"},r.a.createElement(y.a,null,r.a.createElement(x.a,{key:"100"},r.a.createElement(F,null,"Document Name"),r.a.createElement(F,{align:"center"},"Timestamp"),r.a.createElement(F,{align:"center"},"Document Hash"),r.a.createElement(F,{align:"center"},"Download Document From Ethereum"),r.a.createElement(F,{align:"center"},"Remove From Ethereum"))),r.a.createElement(f.a,null,this.state.tableRows.map((function(e){return r.a.createElement(L,null,r.a.createElement(F,{component:"th",scope:"row"},D()(e.filename)),r.a.createElement(F,{align:"center"},e.timestamp),r.a.createElement(F,{align:"center"},r.a.createElement("code",null,e.filehash)),r.a.createElement(F,{align:"center"},e.download),r.a.createElement(F,{align:"center"},e.deleteBtn))}))))),r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:8,align:"center"},r.a.createElement("b",null,this.state.noDocsMsg)),r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:8,align:"center"},this.state.loadingProgress?r.a.createElement("div",null,r.a.createElement("br",null),"Sending delete transaction...",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,null)):"",this.state.returnMessages.map((function(e,t){return r.a.createElement("div",{key:t},D()(e))}))),r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:2}),r.a.createElement(H.a,{item:!0,xs:8,align:"center"},this.state.loadingFilesProgress?r.a.createElement("div",null,"Retrieving File Data...",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,null)):""),r.a.createElement(H.a,{item:!0,xs:2})),r.a.createElement(P.a,null))}}]),t}(n.Component);function C(e){for(var t=window.atob(e),a=t.length,n=new Uint8Array(a),r=0;r<a;r++){var l=t.charCodeAt(r);n[r]=l}return n}var R=Object(g.a)({table:{height:"80%",width:"90%",margin:"auto"},tableContainer:{height:"100%",width:"95%",margin:"20px"}})(A),B=a(57),U=a(45),Z=a(521),J=a(73),q=a(522),Q=a(520),G=a(39),I=a(210),W=a(211),V=a.n(W),K=a(212),Y=a(214),_={web3:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_WEB3":return Object(Y.a)({},e,{web3:t.payload});default:return e}},ee=Object(G.combineReducers)({web3:$}),te=Object(G.createStore)(ee,Object(I.composeWithDevTools)(Object(G.applyMiddleware)(V.a,K.a))),ae=(a(484),""),ne=a(75),re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={selectedFile:null,selectedFileName:"",contract:"",web3:null,selectedAccount:"",estimatedGas:0,processingFile:"false",metamaskWarning:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log("In CDM"),window.ethereum){ae=new ne(ne.givenProvider),this.setState({web3:ae});try{window.ethereum.enable();setInterval((function(){Object(O.b)(e,!1,window.ethereum.networkVersion)}),100)}catch(t){}}}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:te},r.a.createElement("div",null,r.a.createElement(B.a,{basename:"/attester"},r.a.createElement("div",null,r.a.createElement(Q.a,{position:"static"},r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement(Z.a,{variant:"h4",component:"h4",gutterBottom:!0},"\xa0Ethereum Document Attestation Tool")),r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(w.a,null,r.a.createElement("b",null,"Account:  ",this.state.selectedAccount))),r.a.createElement(H.a,{item:!0,xs:12,align:"center"},r.a.createElement(q.a,{variant:"contained","aria-label":"contained primary button group"},r.a.createElement(J.a,{component:B.b,to:"/"},"Home"),r.a.createElement(J.a,{component:B.b,to:"/pastuploads"},"Past Uploads")),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement("br",null),r.a.createElement(U.c,null,r.a.createElement(U.a,{exact:!0,path:"/"},r.a.createElement(h.a,null)),r.a.createElement(U.a,{path:"/pastuploads"},r.a.createElement(R,null)))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(37),r=a(27),l=a(42),s=a(38),i=a(43),o=a(0),c=a.n(o),u=a(8),m=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(u.a,{container:!0,spacing:3},c.a.createElement(u.a,{item:!0,xs:12,align:"center"},c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),"Made by ",c.a.createElement("a",{href:"https://github.com/danielthestripedtiger",target:"_blank"},"Daniel Striped Tiger")," \ud83d\udc2f",c.a.createElement("br",null),c.a.createElement("br",null))))}}]),t}(o.Component)}},[[223,1,2]]]);
//# sourceMappingURL=main.139a4c79.chunk.js.map